{
  "title": "TMDb Comprehensive Scraper",
  "description": "Scrape comprehensive movie, TV show, and people data from The Movie Database (TMDb). Supports API access with fallback to website scraping.",
  "type": "object",
  "schemaVersion": 1,
  "properties": {
    "apiKey": {
      "title": "TMDb API Key (Optional)",
      "type": "string",
      "description": "Your TMDb API key (v3 auth). If provided, uses TMDb API for fast and reliable data extraction with fallback to website scraping. Get one at https://www.themoviedb.org/settings/api",
      "editor": "textfield",
      "isSecret": true,
      "example": "YOUR_TMDB_API_KEY_HERE"
    },
    "useApiFirst": {
      "title": "Use API First (when available)",
      "type": "boolean",
      "description": "If true and API key is provided, attempts to use TMDb API first. If false, uses website scraping as primary and API for fallbacks.",
      "default": true,
      "editor": "checkbox"
    },
    "contentType": {
      "title": "Content Type",
      "type": "string",
      "description": "Type of content to scrape: movies, TV shows, people, or both movies and TV shows.",
      "enum": [
        "movie",
        "tv",
        "person",
        "both"
      ],
      "default": "tv",
      "editor": "select",
      "prefill": "tv"
    },
    "searchQueries": {
      "title": "Search Queries",
      "type": "string",
      "description": "Comma-separated list of search terms to query TMDb for. Each query will be searched separately. Leave empty to use discover mode with filters.",
      "editor": "textfield",
      "default": "",
      "prefill": "",
      "example": "Breaking Bad,Game of Thrones,Inception"
    },
    "genreIds": {
      "title": "Genre IDs",
      "type": "string",
      "description": "Comma-separated TMDb genre IDs to filter by. For Movies: 28=Action, 12=Adventure, 16=Animation, 35=Comedy, 18=Drama, 27=Horror, 878=Science Fiction, 53=Thriller. For TV: 10759=Action&Adventure, 16=Animation, 35=Comedy, etc.",
      "editor": "textfield",
      "default": "",
      "prefill": "",
      "example": "28,12,878"
    },
    "peopleQuery": {
      "title": "People Search Query (Optional)",
      "type": "string",
      "description": "Optional comma-separated list of people search terms, to collect people data via API (if API key provided).",
      "editor": "textfield",
      "default": "",
      "example": "Leonardo DiCaprio,Tom Hanks"
    },
    "resultsWanted": {
      "title": "Maximum Results",
      "type": "integer",
      "description": "Maximum number of content items to collect per search query.",
      "minimum": 1,
      "default": 100,
      "editor": "number",
      "prefill": 10
    },
    "maxPages": {
      "title": "Maximum Pages",
      "type": "integer",
      "description": "Maximum number of API result pages to fetch (each page contains ~20 items).",
      "minimum": 1,
      "default": 5,
      "editor": "number",
      "prefill": 2
    },
    "sortBy": {
      "title": "Sort By",
      "type": "string",
      "description": "Sorting for discover endpoints when using filters (see TMDb discover API docs).",
      "enum": [
        "popularity.desc",
        "popularity.asc",
        "vote_average.desc",
        "vote_average.asc",
        "primary_release_date.desc",
        "primary_release_date.asc",
        "first_air_date.desc",
        "first_air_date.asc"
      ],
      "default": "popularity.desc",
      "editor": "select"
    },
    "minVoteCount": {
      "title": "Minimum Vote Count",
      "type": "integer",
      "description": "Minimum number of votes for discover filters (to avoid very obscure content).",
      "minimum": 0,
      "default": 0,
      "editor": "number"
    },
    "minVoteAverage": {
      "title": "Minimum Vote Average",
      "type": "number",
      "description": "Minimum average vote for discover filters.",
      "minimum": 0,
      "maximum": 10,
      "default": 0,
      "editor": "number"
    },
    "collectPeople": {
      "title": "Collect people data (API)",
      "type": "boolean",
      "description": "If true and API key provided, collects people/credits info for content items and/or people search queries.",
      "default": false,
      "editor": "checkbox"
    },
    "collectReviews": {
      "title": "Collect reviews (API)",
      "type": "boolean",
      "description": "If true and API key provided, collects user reviews for each content item.",
      "default": false,
      "editor": "checkbox"
    },
    "collectImages": {
      "title": "Collect images metadata (API)",
      "type": "boolean",
      "description": "If true and API key provided, collects backdrops, posters, and profile image metadata.",
      "default": false,
      "editor": "checkbox"
    },
    "collectKeywords": {
      "title": "Collect keywords (API)",
      "type": "boolean",
      "description": "If true and API key provided, collects keywords/tags associated with content.",
      "default": false,
      "editor": "checkbox"
    },
    "collectVideos": {
      "title": "Collect videos (API)",
      "type": "boolean",
      "description": "If true and API key provided, collects videos/trailers metadata.",
      "default": false,
      "editor": "checkbox"
    },
    "collectWatchProviders": {
      "title": "Collect watch providers (API)",
      "type": "boolean",
      "description": "If true and API key provided, collects watch providers (streaming platforms) data.",
      "default": false,
      "editor": "checkbox"
    },
    "minDelayMs": {
      "title": "Minimum delay between requests (ms)",
      "type": "integer",
      "description": "Minimum random delay between HTTP requests, in milliseconds.",
      "minimum": 0,
      "default": 500,
      "editor": "number"
    },
    "maxDelayMs": {
      "title": "Maximum delay between requests (ms)",
      "type": "integer",
      "description": "Maximum random delay between HTTP requests, in milliseconds.",
      "minimum": 0,
      "default": 2000,
      "editor": "number"
    },
    "maxConcurrency": {
      "title": "Maximum concurrency",
      "type": "integer",
      "description": "Maximum number of concurrent detail requests (API or web).",
      "minimum": 4,
      "maximum": 30,
      "default": 10,
      "editor": "number",
      "prefill": 10
    },
    "requestTimeoutMs": {
      "title": "Request timeout (ms)",
      "type": "integer",
      "description": "Timeout for HTTP requests in milliseconds.",
      "minimum": 1000,
      "default": 35000,
      "editor": "number"
    },
    "proxyConfiguration": {
      "title": "Proxy configuration",
      "type": "object",
      "description": "Proxy settings for web scraping. Residential proxies are recommended for better reliability.",
      "editor": "proxy",
      "default": {
        "useApifyProxy": true,
        "apifyProxyGroups": [
          "RESIDENTIAL"
        ]
      },
      "prefill": {
        "useApifyProxy": true
      }
    },
    "metamorph": {
      "title": "Metamorph",
      "type": "string",
      "description": "Actor ID to metamorph into after completion (for chaining actors).",
      "editor": "textfield",
      "example": "apify/web-scraper"
    }
  },
  "required": [],
  "additionalProperties": true
}
